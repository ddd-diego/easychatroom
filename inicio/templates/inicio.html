<!DOCTYPE html>
<html>
<head>
    {%load static%}
    <title>{%block title%}Inicio{%endblock%}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Agbalumo">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        body {
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            margin: 0;
        }
        html { height: 100%; }
        
        .navbar {
            margin: 0;
            padding: 0;
        }
        img {
            width: 150px;
            height: 150px;
            object-fit: cover; 
        }
        #imgchiquita {
            width: 50px;
            height: 50px;
        }
        .round{
            border:2px solid grey;
            border-radius: 30px;
        }
    </style>
</head>
<body style="font-family:Lexend;" class="bg-dark">
    {%block body%}
    <header style="font-family:Agbalumo;">
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid justify-content-center">
                <a class="navbar-brand text-info text-decoration-none p-3" href="#"><h3>EasyChatRoom</h3></a>
            </div>
        </nav>
    </header>

    <main class="container-fluid text-white mt-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col">
                    <h3>CREAR USUARIO</h3>
                    <br>
                    <img id="imgGrande" class="rounded float-start mx-3 mb-3" src="...">
                    <img id="imgchiquita" class="rounded float-start m-3" src="...">
                    <br>
                    <button class="m-2">Modificar imagen</button>
                    <br>
                    <div class="input-group mb-3 py-3">
                        <span class="input-group-text" id="spanguestname">Nombre de usuario</span>
                        <input type="text" id="guestname" class="form-control" maxlength="20" aria-describedby="basic-addon3 basic-addon4" style="max-width: 50%;">
                    </div>
                </div>
                <div class="col p-2 round">
                        {% csrf_token %}
                    <h3 class="mt-3 mx-3">CREAR SALA</h3>
                    <div class="input-group m-3">
                        <span class="input-group-text" name="lblpassword">ID de la sala</span>
                        <input type="text" class="form-control" maxlength="20" id="lobby-name-input" aria-describedby="basic-addon3 basic-addon4" style="max-width: 40%;">
                    </div>

                    <input type="button" class="btn btn-light mx-5 mb-3" value="Crear" id="lobby-name-submit">

                    <div class="bg-secondary p-2 mt-3" style="border-radius: 30px;">
                        <h3 class="m-3">UNIRSE A UNA SALA</h3>
                        <div class="input-group m-3">
                            <input type="text" class="form-control" placeholder="ID aqui" style="max-width: 50%;">
                            <button class="btn btn-outline-info" type="button">Buscar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.querySelector('#lobby-name-input').onkeyup = function(e) {
            if (e.key === 'Enter') {  // enter, return
                document.querySelector('#lobby-name-submit').click();
            }
        };

        document.querySelector('#lobby-name-submit').onclick = function(e) {
            var guestname=document.getElementById("guestname").value;
            document.cookie = "chat_guestname=" + guestname + "; path=/;"

            var roomName = document.querySelector('#lobby-name-input').value;
            window.location.pathname = '/lobby/' + roomName + '/';
        };
    </script>
</body>
    {%endblock%}
</body>
</html>
